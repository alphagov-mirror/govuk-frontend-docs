---
title: Use Nunjucks
weight: 45
---

# Use Nunjucks

You can use our Nunjucks code to generate the HTML for pages and components.

You can also change the HTML that's generated by passing options into the Nunjucks code.

If you use Nunjucks, your project will be easier to update when a new version of GOV.UK Frontend is released.

To use Nunjucks:

- you must [install GOV.UK Frontend with Node.js package manager (npm)](/installing-with-npm/)
- your application and any frameworks that support it must use Node.js

You do not need to follow this guidance to [use Nunjucks macros in the GOV.UK Prototype Kit](https://design-system.service.gov.uk/get-started/prototyping/#using-nunjucks-macros).

## Set up Nunjucks and use the page template

1. Make sure you installed Nunjucks when you [installed GOV.UK Frontend with npm](/installing-with-npm).

2. Import the Nunjucks package at the top of your configuration file, for example:

    ```javascript
    const nunjucks = require('nunjucks')
    ```

3. Tell Nunjucks where to find the GOV.UK Frontend template and components by adding the following to your configuration file:

    ```javascript
    nunjucks.configure([
      "node_modules/govuk-frontend/"
    ], {
      autoescape: true
    })
    ```

    `autoescape: true` makes the output render as text by default, to help prevent cross-site scripting (XSS) attacks.

4. Use the GOV.UK Frontend template by adding the following at the top of your view file:

    ```javascript
    {% extends "govuk/template.njk" %}
    ```

5. Go to the [default page template example](https://design-system.service.gov.uk/styles/page-template/#default) on the GOV.UK Design System website, then copy the Nunjucks code into your view file.

## Adding a component

You can go to any component page on the Design System website, then copy the Nunjucks macro code from the **Nunjucks** tab of any example.

For example, to add the breadcrumbs component to your page, add the following code from the first example on the [breadcrumbs component page](https://design-system.service.gov.uk/components/breadcrumbs/):

```javascript
{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}

{{ govukBreadcrumbs({
  items: [
    {
      text: "Home",
      href: "#"
    },
    {
      text: "Passports, travel and living abroad",
      href: "#"
    },
    {
      text: "Travel abroad",
      href: "#"
    }
  ]
}) }}
```

## Changing the HTML that's generated

You can use options to change how the page template works, or how a component looks or behaves.

You can use:

- [page template options](https://design-system.service.gov.uk/styles/page-template/#changing-template-content)
- component options - select the **Nunjucks** tab of the component example on any Design System website page, then select **Nunjucks macro options**

How you set an option depends on whether it's a 'variable' option or a 'block' option.

### Variable options

If an option is a 'variable' option, use `set` to pass in a single value or string.

For example, to change the text on a [button](https://design-system.service.gov.uk/components/button/) using the `text` option:

```javascript
{{ govukButton({
    text: "Example button text"
}) }}
```

### Block options

If an option is a 'block' option, use `block` to pass in a multiline value or HTML markup.

For example, to add a block of HTML before the closing </body> element in the page template using the `bodyEnd` option:

```javascript
{% raw %}
{% block bodyEnd %}
  <div>
     <p>Example text</p>
  </div>
{% endblock %}
{% endraw %}
```

You must sanitise any HTML you pass in to Nunjucks macros you’re using in your live application, to protect your website against cross-site scripting (XSS) attacks. Talk to your team’s security specialist about how to do this.
